# 커밋 취소 revert

- undo와 비슷한 기능

  - 지정한 특정 커밋을 취소해 바로 이전 상태로 되돌리는 방법
 
  - reset과 다르게 커밋할 것이 없고, 작업 영역이 깨끗해야 수행 가능
    ```
    git revert HEAD
    ```
    - 이전의 커밋 히스토리는 그대로 유지, 되돌리는 새로운 커밋이 뒤에 추가되는 것

<br>

>**revert 충돌과 해결**

- 인자가 HEAD~와 같이 HEAD 이전을 취소하면 충돌이 발생할 수 있음

- 충돌이 발생하지 않으려면 바로 이전 취소를 여러 번 계속 함

<br>

>**옵션 --no-edit**

- 추가되는 커밋 메시지가 자동으로 'Revert '이전 커밋 메시지''로 지정

- 이동되는 커밋의 내용으로 WD와 SA, GR을 모두 복사하고 커밋 메시지를 수정하도록 편집기가 실행됨
  ```
  git revert HEAD~
  ```
  ```
  git revert [commitID]
  ```

- 옵션 --no-edit으로 편집기 실행 없이 커밋 메시지가 자동으로 'Revert '이전 커밋 메시지''으로 지정되어 새로운 커밋 생성
  ```
  git revert HEAD~ --no-edit
  ```
  ```
  git revert [commitID] --no-edit
  ```

<br>

>**오류가 발생히 revert가 취소**

- 커밋할 것이 있고 작업 영역이 깨끗하지 않으면 오류가 발생함

- 2가지 해결 방법

  - 커밋하고 다시 revert 하는 방법

    - 현재 커밋 내용으로 WD와 SA, GR을 모두 수정・복사 - 수정한 내용이 사라짐

  - 이전 커밋 내용으로 WD와 SA, GR을 모두 수정・복사
    ```
    git reset --hard HEAD~
    ```
    - 수정한 내용이 사라지고 현재 커밋 로그도 삭제

<br>

## reset VS revert 비교

- revert는 새로운 커밋을 생성하는 방식으로 지정된 이전 커밋을 취소, 이전의 모든 이력은 그대로 남음

- reset은 지정된 이전 커밋으로 이동, 그 이후의 로그 이력은 모두 제거































